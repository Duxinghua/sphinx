<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en_US">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>sphinx.ext.autodoc – Include documentation from docstrings &#8212; Sphinx 使用手册</title>
    
    <link rel="stylesheet" href="../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="sphinx.ext.autosummary – Generate autodoc summaries" href="autosummary.html" />
    <link rel="prev" title="Writing new builders" href="builderapi.html" /> 
  </head>
  <body role="document">
      <div class="header" role="banner"><h1 class="heading"><a href="../index.html">
          <span>Sphinx 使用手册</span></a></h1>
        <h2 class="heading"><span>sphinx.ext.autodoc – Include documentation from docstrings</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="builderapi.html">Writing new builders</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../contents.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="autosummary.html"><code class="docutils literal"><span class="pre">sphinx.ext.autosummary</span></code> &#8211; Generate autodoc summaries</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="module-sphinx.ext.autodoc">
<span id="sphinx-ext-autodoc-include-documentation-from-docstrings"></span><h1><a class="reference internal" href="#module-sphinx.ext.autodoc" title="sphinx.ext.autodoc: Include documentation from docstrings."><code class="xref py py-mod docutils literal"><span class="pre">sphinx.ext.autodoc</span></code></a> &#8211; Include documentation from docstrings</h1>
<p id="index-0">This extension can import the modules you are documenting, and pull in
documentation from docstrings in a semi-automatic way.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For Sphinx (actually, the Python interpreter that executes Sphinx) to find
your module, it must be importable.  That means that the module or the
package must be in one of the directories on <code class="xref py py-data docutils literal"><span class="pre">sys.path</span></code> &#8211; adapt your
<code class="xref py py-data docutils literal"><span class="pre">sys.path</span></code> in the configuration file accordingly.</p>
</div>
<p>For this to work, the docstrings must of course be written in correct
reStructuredText.  You can then use all of the usual Sphinx markup in the
docstrings, and it will end up correctly in the documentation.  Together with
hand-written documentation, this technique eases the pain of having to maintain
two locations for documentation, while at the same time avoiding
auto-generated-looking pure API documentation.</p>
<p><code class="xref py py-mod docutils literal"><span class="pre">autodoc</span></code> provides several directives that are versions of the usual
<a class="reference internal" href="../domains.html#directive-py:module" title="py:module directive"><code class="xref rst rst-dir docutils literal"><span class="pre">py:module</span></code></a>, <a class="reference internal" href="../domains.html#directive-py:class" title="py:class directive"><code class="xref rst rst-dir docutils literal"><span class="pre">py:class</span></code></a> and so forth.  On parsing time, they
import the corresponding module and extract the docstring of the given objects,
inserting them into the page source under a suitable <a class="reference internal" href="../domains.html#directive-py:module" title="py:module directive"><code class="xref rst rst-dir docutils literal"><span class="pre">py:module</span></code></a>,
<a class="reference internal" href="../domains.html#directive-py:class" title="py:class directive"><code class="xref rst rst-dir docutils literal"><span class="pre">py:class</span></code></a> etc.  directive.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Just as <a class="reference internal" href="../domains.html#directive-py:class" title="py:class directive"><code class="xref rst rst-dir docutils literal"><span class="pre">py:class</span></code></a> respects the current <a class="reference internal" href="../domains.html#directive-py:module" title="py:module directive"><code class="xref rst rst-dir docutils literal"><span class="pre">py:module</span></code></a>,
<a class="reference internal" href="#directive-autoclass" title="autoclass directive"><code class="xref rst rst-dir docutils literal"><span class="pre">autoclass</span></code></a> will also do so.  Likewise, <a class="reference internal" href="#directive-automethod" title="automethod directive"><code class="xref rst rst-dir docutils literal"><span class="pre">automethod</span></code></a> will
respect the current <a class="reference internal" href="../domains.html#directive-py:class" title="py:class directive"><code class="xref rst rst-dir docutils literal"><span class="pre">py:class</span></code></a>.</p>
</div>
<dl class="directive">
<dt id="directive-automodule">
<code class="descname">.. automodule::</code></dt>
<dt id="directive-autoclass">
<code class="descname">.. autoclass::</code></dt>
<dt id="directive-autoexception">
<code class="descname">.. autoexception::</code></dt>
<dd><p>Document a module, class or exception.  All three directives will by default
only insert the docstring of the object itself:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoclass</span><span class="p">::</span> Noodle
</pre></div>
</div>
<p>will produce source like this:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">class</span><span class="p">::</span> Noodle

   Noodle&#39;s docstring.
</pre></div>
</div>
<p>The &#8220;auto&#8221; directives can also contain content of their own, it will be
inserted into the resulting non-auto directive source after the docstring
(but before any automatic member documentation).</p>
<p>Therefore, you can also mix automatic and non-automatic member documentation,
like so:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoclass</span><span class="p">::</span> Noodle
   <span class="nc">:members:</span> <span class="nf">eat, slurp</span>

<span class="p">   ..</span> <span class="ow">method</span><span class="p">::</span> boil(time=10)

      Boil the noodle <span class="ge">*time*</span> minutes.
</pre></div>
</div>
<p><strong>Options and advanced usage</strong></p>
<ul>
<li><p class="first">If you want to automatically document members, there&#8217;s a <code class="docutils literal"><span class="pre">members</span></code>
option:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">automodule</span><span class="p">::</span> noodle
   <span class="nc">:members:</span>
</pre></div>
</div>
<p>will document all module members (recursively), and</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoclass</span><span class="p">::</span> Noodle
   <span class="nc">:members:</span>
</pre></div>
</div>
<p>will document all non-private member functions and properties (that is,
those whose name doesn&#8217;t start with <code class="docutils literal"><span class="pre">_</span></code>).</p>
<p>For modules, <code class="docutils literal"><span class="pre">__all__</span></code> will be respected when looking for members; the
order of the members will also be the order in <code class="docutils literal"><span class="pre">__all__</span></code>.</p>
<p>You can also give an explicit list of members; only these will then be
documented:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoclass</span><span class="p">::</span> Noodle
   <span class="nc">:members:</span> <span class="nf">eat, slurp</span>
</pre></div>
</div>
</li>
<li><p class="first">If you want to make the <code class="docutils literal"><span class="pre">members</span></code> option (or other flag options described
below) the default, see <a href="#id1"><span class="problematic" id="id2">:confval:`autodoc_default_flags`</span></a>.</p>
</li>
<li><p class="first">Members without docstrings will be left out, unless you give the
<code class="docutils literal"><span class="pre">undoc-members</span></code> flag option:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">automodule</span><span class="p">::</span> noodle
   <span class="nc">:members:</span>
   <span class="nc">:undoc-members:</span>
</pre></div>
</div>
</li>
<li><p class="first">&#8220;Private&#8221; members (that is, those named like <code class="docutils literal"><span class="pre">_private</span></code> or <code class="docutils literal"><span class="pre">__private</span></code>)
will be included if the <code class="docutils literal"><span class="pre">private-members</span></code> flag option is given.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1.</span></p>
</div>
</li>
<li><p class="first">Python &#8220;special&#8221; members (that is, those named like <code class="docutils literal"><span class="pre">__special__</span></code>) will
be included if the <code class="docutils literal"><span class="pre">special-members</span></code> flag option is given:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoclass</span><span class="p">::</span> my.Class
   <span class="nc">:members:</span>
   <span class="nc">:private-members:</span>
   <span class="nc">:special-members:</span>
</pre></div>
</div>
<p>would document both &#8220;private&#8221; and &#8220;special&#8221; members of the class.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1.</span></p>
</div>
</li>
<li><p class="first">For classes and exceptions, members inherited from base classes will be
left out when documenting all members, unless you give the
<code class="docutils literal"><span class="pre">inherited-members</span></code> flag option, in addition to <code class="docutils literal"><span class="pre">members</span></code>:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoclass</span><span class="p">::</span> Noodle
   <span class="nc">:members:</span>
   <span class="nc">:inherited-members:</span>
</pre></div>
</div>
<p>This can be combined with <code class="docutils literal"><span class="pre">undoc-members</span></code> to document <em>all</em> available
members of the class or module.</p>
<p>Note: this will lead to markup errors if the inherited members come from a
module whose docstrings are not reST formatted.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.3.</span></p>
</div>
</li>
<li><p class="first">It&#8217;s possible to override the signature for explicitly documented callable
objects (functions, methods, classes) with the regular syntax that will
override the signature gained from introspection:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">autoclass</span><span class="p">::</span> Noodle(type)

<span class="p">   ..</span> <span class="ow">automethod</span><span class="p">::</span> eat(persona)
</pre></div>
</div>
<p>This is useful if the signature from the method is hidden by a decorator.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.4.</span></p>
</div>
</li>
<li><p class="first">The <a class="reference internal" href="#directive-automodule" title="automodule directive"><code class="xref rst rst-dir docutils literal"><span class="pre">automodule</span></code></a>, <a class="reference internal" href="#directive-autoclass" title="autoclass directive"><code class="xref rst rst-dir docutils literal"><span class="pre">autoclass</span></code></a> and
<a class="reference internal" href="#directive-autoexception" title="autoexception directive"><code class="xref rst rst-dir docutils literal"><span class="pre">autoexception</span></code></a> directives also support a flag option called
<code class="docutils literal"><span class="pre">show-inheritance</span></code>.  When given, a list of base classes will be inserted
just below the class signature (when used with <a class="reference internal" href="#directive-automodule" title="automodule directive"><code class="xref rst rst-dir docutils literal"><span class="pre">automodule</span></code></a>, this
will be inserted for every class that is documented in the module).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.4.</span></p>
</div>
</li>
<li><p class="first">All autodoc directives support the <code class="docutils literal"><span class="pre">noindex</span></code> flag option that has the
same effect as for standard <a class="reference internal" href="../domains.html#directive-py:function" title="py:function directive"><code class="xref rst rst-dir docutils literal"><span class="pre">py:function</span></code></a> etc. directives: no
index entries are generated for the documented object (and all
autodocumented members).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.4.</span></p>
</div>
</li>
<li><p class="first"><a class="reference internal" href="#directive-automodule" title="automodule directive"><code class="xref rst rst-dir docutils literal"><span class="pre">automodule</span></code></a> also recognizes the <code class="docutils literal"><span class="pre">synopsis</span></code>, <code class="docutils literal"><span class="pre">platform</span></code> and
<code class="docutils literal"><span class="pre">deprecated</span></code> options that the standard <a class="reference internal" href="../domains.html#directive-py:module" title="py:module directive"><code class="xref rst rst-dir docutils literal"><span class="pre">py:module</span></code></a> directive
supports.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.5.</span></p>
</div>
</li>
<li><p class="first"><a class="reference internal" href="#directive-automodule" title="automodule directive"><code class="xref rst rst-dir docutils literal"><span class="pre">automodule</span></code></a> and <a class="reference internal" href="#directive-autoclass" title="autoclass directive"><code class="xref rst rst-dir docutils literal"><span class="pre">autoclass</span></code></a> also has an <code class="docutils literal"><span class="pre">member-order</span></code>
option that can be used to override the global value of
<a href="#id3"><span class="problematic" id="id4">:confval:`autodoc_member_order`</span></a> for one directive.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.6.</span></p>
</div>
</li>
<li><p class="first">The directives supporting member documentation also have a
<code class="docutils literal"><span class="pre">exclude-members</span></code> option that can be used to exclude single member names
from documentation, if all members are to be documented.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.6.</span></p>
</div>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In an <a class="reference internal" href="#directive-automodule" title="automodule directive"><code class="xref rst rst-dir docutils literal"><span class="pre">automodule</span></code></a> directive with the <code class="docutils literal"><span class="pre">members</span></code> option set, only
module members whose <code class="docutils literal"><span class="pre">__module__</span></code> attribute is equal to the module name
as given to <code class="docutils literal"><span class="pre">automodule</span></code> will be documented.  This is to prevent
documentation of imported classes or functions.</p>
</div>
</dd></dl>

<dl class="directive">
<dt id="directive-autofunction">
<code class="descname">.. autofunction::</code></dt>
<dt id="directive-autodata">
<code class="descname">.. autodata::</code></dt>
<dt id="directive-automethod">
<code class="descname">.. automethod::</code></dt>
<dt id="directive-autoattribute">
<code class="descname">.. autoattribute::</code></dt>
<dd><p>These work exactly like <a class="reference internal" href="#directive-autoclass" title="autoclass directive"><code class="xref rst rst-dir docutils literal"><span class="pre">autoclass</span></code></a> etc., but do not offer the options
used for automatic member documentation.</p>
<p>For module data members and class attributes, documentation can either be put
into a special-formatted comment, or in a docstring <em>after</em> the definition.
Comments need to be either on a line of their own <em>before</em> the definition, or
immediately after the assignment <em>on the same line</em>.  The latter form is
restricted to one line only.</p>
<p>This means that in the following class definition, all attributes can be
autodocumented:</p>
<div class="highlight-rest"><div class="highlight"><pre><span></span>class Foo:
    &quot;&quot;&quot;Docstring for class Foo.&quot;&quot;&quot;

    #: Doc comment for class attribute Foo.bar.
    #: It can have multiple lines.
    bar = 1

    flox = 1.5   #: Doc comment for Foo.flox. One line only.

    baz = 2
    &quot;&quot;&quot;Docstring for class attribute Foo.baz.&quot;&quot;&quot;

    def __init__(self):
        #: Doc comment for instance attribute qux.
        self.qux = 3

        self.spam = 4
        &quot;&quot;&quot;Docstring for instance attribute spam.&quot;&quot;&quot;
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.6: </span><a class="reference internal" href="#directive-autodata" title="autodata directive"><code class="xref rst rst-dir docutils literal"><span class="pre">autodata</span></code></a> and <a class="reference internal" href="#directive-autoattribute" title="autoattribute directive"><code class="xref rst rst-dir docutils literal"><span class="pre">autoattribute</span></code></a> can now extract docstrings.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.1: </span>Comment docs are now allowed on the same line after an assignment.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you document decorated functions or methods, keep in mind that autodoc
retrieves its docstrings by importing the module and inspecting the
<code class="docutils literal"><span class="pre">__doc__</span></code> attribute of the given function or method.  That means that if
a decorator replaces the decorated function with another, it must copy the
original <code class="docutils literal"><span class="pre">__doc__</span></code> to the new function.</p>
<p class="last">From Python 2.5, <code class="xref py py-func docutils literal"><span class="pre">functools.wraps()</span></code> can be used to create
well-behaved decorating functions.</p>
</div>
</dd></dl>

<p>There are also new config values that you can set:</p>
<div class="section" id="docstring-preprocessing">
<h2>Docstring preprocessing</h2>
<p>autodoc provides the following additional events:</p>
<p>The <a class="reference internal" href="#module-sphinx.ext.autodoc" title="sphinx.ext.autodoc: Include documentation from docstrings."><code class="xref py py-mod docutils literal"><span class="pre">sphinx.ext.autodoc</span></code></a> module provides factory functions for commonly
needed docstring processing in event <a href="#id5"><span class="problematic" id="id6">:event:`autodoc-process-docstring`</span></a>:</p>
</div>
<div class="section" id="skipping-members">
<h2>Skipping members</h2>
<p>autodoc allows the user to define a custom method for determining whether a
member should be included in the documentation by using the following event:</p>
</div>
</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="builderapi.html">Writing new builders</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../contents.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="autosummary.html"><code class="docutils literal"><span class="pre">sphinx.ext.autosummary</span></code> &#8211; Generate autodoc summaries</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright .
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.5.
    </div>
  </body>
</html>